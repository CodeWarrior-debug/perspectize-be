---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - perspectize-fe/src/routes/+layout.svelte
  - perspectize-fe/src/lib/components/Header.svelte
  - perspectize-fe/src/lib/components/PageWrapper.svelte
  - perspectize-fe/src/app.css
  - perspectize-fe/STRUCTURE.md
autonomous: true

must_haves:
  truths:
    - "Layout works on iPhone SE width (375px) without horizontal scroll"
    - "Layout scales appropriately on tablet (768px) and desktop (1024px+)"
    - "Header is visible on all pages"
    - "Page content has appropriate padding at each breakpoint"
  artifacts:
    - path: "perspectize-fe/src/routes/+layout.svelte"
      provides: "Root layout with responsive shell"
      contains: "Header"
    - path: "perspectize-fe/src/lib/components/Header.svelte"
      provides: "App header component"
      min_lines: 15
    - path: "perspectize-fe/src/lib/components/PageWrapper.svelte"
      provides: "Consistent page wrapper with responsive padding"
      min_lines: 10
  key_links:
    - from: "perspectize-fe/src/routes/+layout.svelte"
      to: "Header.svelte"
      via: "import and render"
      pattern: "import.*Header"
    - from: "perspectize-fe/src/routes/+layout.svelte"
      to: "PageWrapper.svelte"
      via: "slot wrapper"
      pattern: "PageWrapper"
---

<objective>
Create mobile-first responsive layout system with Header component and PageWrapper for consistent page structure.

Purpose: Establish the layout shell that all pages will use. This enables navigation development in Plan 04 and ensures responsive behavior is consistent across the application.

Output: A root layout with Header and PageWrapper components that work from 375px (iPhone SE) up to desktop (1280px+).
</objective>

<execution_context>
@/Users/jamesjordan/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jamesjordan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Header component with responsive design</name>
  <files>
    perspectize-fe/src/lib/components/Header.svelte
  </files>
  <action>
    Create Header.svelte in src/lib/components/ (NOT in ui/ - that's for shadcn primitives):

    1. Header should contain:
       - App title/logo ("Perspectize") - left aligned
       - Navigation area (placeholder for now - will be populated in Plan 04)
       - Responsive padding: px-4 on mobile, px-6 on md:, px-8 on lg:

    2. Mobile-first design:
       - Base styles (no prefix): mobile layout (375px+)
       - md: breakpoint (768px+): tablet adjustments
       - lg: breakpoint (1024px+): desktop layout

    3. Styling:
       - Use shadcn/tailwind classes for consistency
       - Background: bg-background or bg-card
       - Border bottom for separation: border-b border-border
       - Fixed height for consistency: h-16
       - Flex layout for content alignment

    4. Structure:
       ```svelte
       <script lang="ts">
         // Navigation slot or props will be added in Plan 04
       </script>

       <header class="h-16 border-b border-border bg-background">
         <div class="h-full px-4 md:px-6 lg:px-8 max-w-screen-xl mx-auto flex items-center justify-between">
           <div class="font-bold text-xl text-foreground">Perspectize</div>
           <nav class="flex items-center gap-4">
             <!-- Navigation links added in Plan 04 -->
             <slot name="nav" />
           </nav>
         </div>
       </header>
       ```

    5. Export as default for clean imports
  </action>
  <verify>
    ```bash
    cat perspectize-fe/src/lib/components/Header.svelte
    ```
    File exists with responsive classes (px-4, md:px-6, lg:px-8).
  </verify>
  <done>
    - Header.svelte exists in src/lib/components/
    - Has responsive padding classes
    - Contains Perspectize title
    - Has placeholder for navigation
    - Uses shadcn-compatible styling (bg-background, border-border, text-foreground)
  </done>
</task>

<task type="auto">
  <name>Task 2: Create PageWrapper component and update root layout</name>
  <files>
    perspectize-fe/src/lib/components/PageWrapper.svelte
    perspectize-fe/src/routes/+layout.svelte
    perspectize-fe/src/app.css
  </files>
  <action>
    1. Create PageWrapper.svelte for consistent page content wrapper:
       ```svelte
       <script lang="ts">
         // Optional props for customization
         let { class: className = '' } = $props();
       </script>

       <main class="px-4 py-6 md:px-6 md:py-8 lg:px-8 max-w-screen-xl mx-auto {className}">
         <slot />
       </main>
       ```

       Key features:
       - Responsive horizontal padding (4 -> 6 -> 8)
       - Responsive vertical padding (6 -> 8)
       - Max width constraint for large screens (max-w-screen-xl = 1280px)
       - Centered with mx-auto
       - Accepts additional classes via prop

    2. Update +layout.svelte to use Header and wrap slot:
       ```svelte
       <script lang="ts">
         import Header from '$lib/components/Header.svelte';
         import '../app.css';

         export const prerender = true;
       </script>

       <div class="min-h-screen bg-background text-foreground">
         <Header />
         <slot />
       </div>
       ```

       Note: Don't wrap slot in PageWrapper here - let individual pages decide.
       The PageWrapper is a utility component pages can use, not forced on them.

    3. Add base styles to app.css if not present:
       ```css
       html, body {
         @apply bg-background text-foreground;
       }
       ```

    4. Update the test +page.svelte to use PageWrapper:
       ```svelte
       <script lang="ts">
         import PageWrapper from '$lib/components/PageWrapper.svelte';
         import { Button } from '$lib/components/ui/button';
       </script>

       <PageWrapper>
         <h1 class="text-4xl font-bold mb-4">Perspectize</h1>
         <!-- rest of test content -->
       </PageWrapper>
       ```
  </action>
  <verify>
    ```bash
    cd perspectize-fe && npm run dev
    ```
    Open http://localhost:5173:
    - Header visible at top
    - Content has padding
    - Resize browser to test responsive behavior
  </verify>
  <done>
    - PageWrapper.svelte exists with responsive padding
    - +layout.svelte imports and renders Header
    - Test page uses PageWrapper
    - Layout works at 375px width (no horizontal scroll)
  </done>
</task>

<task type="auto">
  <name>Task 3: Test responsive behavior at key breakpoints</name>
  <files>
    perspectize-fe/STRUCTURE.md
    perspectize-fe/src/routes/+page.svelte
  </files>
  <action>
    1. Add brief responsive notes to STRUCTURE.md (documentation optional per user clarification):

       ```markdown
       ## Responsive Design

       Mobile-first approach using Tailwind breakpoints:
       - Base (0px+): px-4 padding, single column
       - md (768px+): px-6 padding
       - lg (1024px+): px-8 padding, max-w-screen-xl centered

       Test at: 375px (iPhone SE), 768px (tablet), 1024px+ (desktop)
       ```

    2. Add viewport width debug display to test page (can be removed later):
       ```svelte
       <script lang="ts">
         import { browser } from '$app/environment';

         let width = $state(0);

         $effect(() => {
           if (browser) {
             width = window.innerWidth;
             const handleResize = () => { width = window.innerWidth; };
             window.addEventListener('resize', handleResize);
             return () => window.removeEventListener('resize', handleResize);
           }
         });
       </script>

       <!-- At bottom of page for testing -->
       <div class="fixed bottom-4 right-4 bg-muted px-2 py-1 rounded text-sm">
         {width}px
       </div>
       ```

    3. Verify layout at key breakpoints using Chrome DevTools device emulation:
       - iPhone SE (375x667): Content fits, no horizontal scroll
       - iPad (768x1024): Padding increases, layout still works
       - Desktop (1280x800): Content centered with max-width
  </action>
  <verify>
    Manual verification in browser:
    - Open DevTools > Toggle device toolbar
    - Test iPhone SE (375px) - no horizontal scroll
    - Test iPad (768px) - padding increases
    - Test Desktop (1280px+) - content centered
  </verify>
  <done>
    - STRUCTURE.md contains brief responsive notes
    - Test page shows viewport width for debugging
    - Verified: no horizontal scroll at 375px
    - Verified: content centered at 1280px+
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. **Header renders**: Header component visible at top of page
2. **Responsive padding**: Padding increases from mobile to desktop
3. **Max width works**: Content doesn't expand beyond 1280px on wide screens
4. **Mobile compatible**: No horizontal scroll at 375px width
5. **Components organized**: Header.svelte and PageWrapper.svelte in src/lib/components/
</verification>

<success_criteria>
- Header.svelte created with responsive design
- PageWrapper.svelte created for consistent page structure
- Root +layout.svelte uses Header
- Layout works at 375px (iPhone SE) without horizontal scroll
- Layout scales to desktop (1280px+) with centered max-width content
- All Tailwind responsive prefixes follow mobile-first pattern
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
