---
alwaysApply: false
---
# Planning Workflow Rules

## Large Code Change Workflow

For changes anticipated to require many lines of added/updated code or long-running changes, use the following workflow:

### 1. Create Change Plan Document
- Create a `.md` file with the proposed plan for the changes
- Place inside the `.cursor/ai-change-plans/` subfolder (create folder if it does not exist)
- **Note**: This folder is gitignored and files are kept locally only for development workflow
- Name the file using the ticket format: `{TICKET-NUMBER}-{brief-description}.md`
  - Extract ticket number from branch name (e.g., `1-add-timeline-component` â†’ `1`)
  - Use brief, kebab-case description (e.g., `timeline.md`, `user-authentication.md`)
  - Full example: `1-timeline.md` or `2-user-auth.md`

### 2. Plan Structure Requirements
- Include numbered sections for each group of related changes
- Include numbered tasks with completion-status checkboxes for each individual change
- Organize by logical implementation order
- Include dependencies between sections

### 3. Example Structure for TypeScript React Project

```markdown
# 1: Add Timeline Component

## 1. Setup Dependencies and Types
- [ ] 1.1 Add required packages to package.json
- [ ] 1.2 Create TypeScript interfaces for timeline data
- [ ] 1.3 Add timeline types to shared types directory

## 2. Create Core Timeline Component
- [ ] 2.1 Create TimelineItem component
- [ ] 2.2 Create Timeline container component
- [ ] 2.3 Add component exports to index.ts

## 3. Integrate with Existing Features
- [ ] 3.1 Update page components to use Timeline
- [ ] 3.2 Add timeline data to GraphQL queries
- [ ] 3.3 Update state management for timeline data

## 4. Testing and Documentation
- [ ] 4.1 Add unit tests for Timeline components
- [ ] 4.2 Add integration tests for timeline features
- [ ] 4.3 Update component documentation
```

### 4. Implementation Guidelines
- Check off tasks as they are completed
- **Before starting on a new section, mark all tasks in the current section with appropriate status**
- Update the plan if scope changes during implementation
- Reference the plan file in commit messages when appropriate
- Keep the plan updated throughout the development process

### 5. Benefits
- Provides clear roadmap for complex changes
- Enables better estimation and progress tracking
- Facilitates code review by showing intended scope
- Documents implementation decisions for future reference
- Especially helpful to clarify the roadmap of long-running work that may span across multiple branch merges

### 6. Local Development and Gitignore Policy

#### Important Notes
- **All ai-change-plans files are gitignored** and remain local to your development environment
- These files are for personal development workflow and planning only
- Each developer maintains their own local planning files
- No coordination needed with team members regarding these files

### 7. Retention and Cleanup Guidelines

#### File Retention Policy
- Ideally maintain no more than **10 workflow plan files** in the `.cursor/ai-change-plans/` folder
- Workflow files are particularly valuable for tracking long-running work that spans multiple branch merges
- Generally keep active plans until all tasks are completed and changes are fully integrated
- Since files are local-only, cleanup is purely for personal organization

#### Weekly Cleanup Process
Before committing, at least **once per week**, perform the following cleanup check:

1. **Identify Candidates for Deletion**:
   - Find workflow files that have not been modified in over **1 month**
   - Verify that all checkboxes in the file show as completed (`[x]`)
   - Ensure the associated feature/changes have been fully merged and deployed

2. **User Review Prompt**:
   - When cleanup candidates are identified, prompt the user:
     ```
     Found workflow plan files ready for cleanup:
     - 1-user-auth.md (completed 35 days ago)
     - 2-data-migration.md (completed 42 days ago)

     These files have all tasks completed and haven't been modified recently.
     Would you like to delete these workflow files? (y/n)
     ```

3. **Cleanup Actions**:
   - Only delete files after explicit user confirmation
   - Consider archiving important plans to a separate documentation location if needed
   - Maintain the 10-file target to keep the folder manageable