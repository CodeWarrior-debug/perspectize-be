scalar JSON

# User type
type User {
  id: ID!
  username: String!
  email: String!
  createdAt: String!
  updatedAt: String!
}

type Content {
  id: ID!
  name: String!
  url: String
  contentType: String!
  length: Int
  lengthUnits: String
  viewCount: Int
  likeCount: Int
  commentCount: Int
  response: JSON
  createdAt: String!
  updatedAt: String!
}

# Pagination types
type PageInfo {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
  endCursor: String
}

type PaginatedContent {
  items: [Content!]!
  pageInfo: PageInfo!
  totalCount: Int
}

# Sorting enums
enum ContentSortBy {
  CREATED_AT
  UPDATED_AT
  NAME
}

enum SortOrder {
  ASC
  DESC
}

enum ContentType {
  YOUTUBE
}

# Inputs
input CreateContentFromYouTubeInput {
  url: String!
}

# TODO: Add additional filters (e.g., dateRange, search) or make filters dynamic
input ContentFilter {
  contentType: ContentType
  minLengthSeconds: Int
  maxLengthSeconds: Int
}

# User inputs
input CreateUserInput {
  username: String!
  email: String!
}

type Mutation {
  createContentFromYouTube(input: CreateContentFromYouTubeInput!): Content!

  # User mutations
  createUser(input: CreateUserInput!): User!
}

type Query {
  # Get single content by ID
  contentByID(id: ID!): Content

  # Paginated content list with optional filtering
  content(
    first: Int = 10
    after: String
    last: Int
    before: String
    sortBy: ContentSortBy = CREATED_AT
    sortOrder: SortOrder = DESC
    includeTotalCount: Boolean = false
    filter: ContentFilter
  ): PaginatedContent!

  # User queries
  userByID(id: ID!): User
  userByUsername(username: String!): User
}
